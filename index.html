<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desafio VUE</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body>

    <script src="https://unpkg.com/vue@next"></script>
    <div id="app" class="container mt-3">
        <h2 style="text-align: center;">Mantenedor de Productos</h2>

        <div class="form-group" style="border: dotted rgb(116, 235, 235); border-radius: 28px; text-align: center;">
            <h4 style="text-align: center; margin-top: 10px;">Añadir un producto</h4>
            
            <input v-model="newTodo.nombre" type="text" class="form-control" placeholder="Nombre" style="width: 15cm; margin-left: 240px;">
            <span v-if="errorNombre" class="text-danger">Campo requerido</span>
            
            <input v-model="newTodo.descripcion" type="text" class="form-control" placeholder="Descripcion" style="width: 15cm; margin-left: 240px;">
            <span v-if="errorDescripcion" class="text-danger">Campo requerido</span>
            
            <input v-model="newTodo.precio" type="text" class="form-control" placeholder="Precio" style="width: 15cm; margin-left: 240px;">
            <span v-if="errorPrecio" class="text-danger">Campo debe ser mayor a 0</span>
        </div>
        <div id="example-1" style="margin-top: 20px; text-align: center;">
            <button v-on:click="addTodo" style="border-radius: 35px; border: dotted rgb(116, 235, 235)">Añadir producto</button>
          </div>

      
        
        <div class="tabla">
            <h4 class="p-3 text-center">Lista de productos</h4>
            <table class="table table-striped table-bordered">
                <thead style="background-color: lightgray">
                    <tr>
                        <th>Nombre</th>
                        <th>Descripcion</th>
                        <th>Precio</th>
                        <th> </th>
                        <th> </th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="(todo,index) in todos">
                        
                        
                        <td>
                            {{todo.nombre}}
                            <input v-if="editIndex === index" v-model="editNombre" type="text">
                        </td>
                        <td>
                            {{todo.descripcion}}
                            <input v-if="editIndex === index" v-model="editDescripcion" type="text">
                        </td>
                        <td>
                            {{todo.precio}}
                            <input v-if="editIndex === index" v-model="editPrecio" type="text">
                        </td>
                        <td>
                            <div v-else class="d-flex gap-2">
                                <button class="btn" style="border-radius: 35px; border: dotted rgb(116, 235, 235)" @click="setTodo(index)"><strong>Editar</strong></button>
                            </div>
                            <div v-if="editIndex === index" class="d-flex gap-2">
                                <button class="btn" style="border-radius: 35px; border: dotted rgb(116, 235, 235)" @click="cancel"><strong>Cancelar</strong></button>
                            </div>
                        </td>
                        <td>
                            <div v-else class="d-flex gap-2">
                                <button class="btn" style="border-radius: 35px; border: dotted rgb(116, 235, 235)" @click="deleteTodo(index)"><strong>Eliminar</strong></button>
                            </div>
                            <div v-if="editIndex === index" class="d-flex gap-2">
                                <button class="btn" style="border-radius: 35px; border: dotted rgb(116, 235, 235)" @click="saveTodo(index)"><strong>Guardar</strong></button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div> 



        
    </div>
    <script src="main.js"></script>
</body>

</html>